<div class="container pt-4">
  <div class="box">
    <div class="control has-icons-left">
      <input class="input is-medium"
             placeholder="Search for movies"
             [(ngModel)]="searchString"
             (ngModelChange)="search()">
        <span class="icon is-left">
      <i class="mdi mdi-24px mdi-magnify"></i>
    </span>
    </div>
  </div>
  <div class="columns is-multiline">
    <div class="column is-6"
         *ngFor="let movie of movies">
      <div class="box movie-card">
        <article class="columns is-mobile">
          <div class="column is-3">
            <figure class="image">
              <img [src]="movie.poster || 'https://bulma.io/images/placeholders/320x480.png'">
            </figure>
          </div>
          <div class="column movie-card-info">
            <h2 class="title is-4">{{movie.title}}</h2>
            <div class="buttons is-right">
              <a class="button is-primary"
                 [routerLink]="[movie.id]">See more</a>
            </div>
          </div>
        </article>
      </div>
    </div>
    <div class="column is-12">
      <nav class="pagination is-centered"
           role="navigation"
           aria-label="pagination">
        <a class="pagination-previous button is-info"
           *ngIf="page > 1 && pages > 1"
           (click)="prevPage()">Previous page</a>
        <a class="pagination-next button is-info"
           *ngIf="pages !== 1 && page < pages"
           (click)="nextPage()">Next page</a>
        <ul class="pagination-list">
          <li><a class="pagination-link"
                 aria-label="Goto page 1"
                 *ngIf="page > 2 && pages > 1"
                 (click)="goToPage(1)">1</a></li>
          <li *ngIf="page > 3"><span class="pagination-ellipsis">&hellip;</span></li>
          <li><a class="pagination-link"
                 [attr.aria-label]="'Goto page ' + (page - 1)"
                 *ngIf="page > 1"
                 (click)="goToPage(page - 1)">{{page - 1}}</a></li>
          <li><a class="pagination-link is-current"
                 [attr.aria-label]="'Page '+ page"
                 aria-current="page">{{page}}</a></li>
          <li><a class="pagination-link"
                 [attr.aria-label]="'Goto page ' + (page + 1)"
                 *ngIf="page < pages"
                 (click)="goToPage(page + 1)">{{page + 1}}</a></li>
          <li *ngIf="pages !== 1 && page < pages - 2"><span class="pagination-ellipsis">&hellip;</span></li>
          <li *ngIf="pages !== 1 && page < pages - 1"><a class="pagination-link"
                 aria-label="Goto page pages"
                 (click)="goToPage(pages)">{{pages}}</a></li>
        </ul>
      </nav>
    </div>
  </div>
</div>
